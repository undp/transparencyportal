webpackJsonp([7],{"6xcH":function(e,t,r){"use strict";function a(e){r.e(16).then(function(){e(r("/pdZ"))}.bind(null,r)).catch(r.oe)}var s=r("I5zj");t.a=r.n(s)()(a)},EqaB:function(e){e.exports={tableHeader:"tableHeader__1qxrp",hide:"hide__11wFI",table:"table__3a0_u",tableHeaderSection:"tableHeaderSection__2CnF5",tableHeaderData:"tableHeaderData__7FB85",chartWrapper:"chartWrapper__1T0EX",recipient_themes_wrapper:"recipient_themes_wrapper__1gqdx",budget_percent:"budget_percent__3p6hw",top_budget_sources_wrapper:"top_budget_sources_wrapper__3MEyi",chartHead:"chartHead__7bkHm",budget_sources_wrapper:"budget_sources_wrapper__91XgM",row:"row__2ddXc",cell:"cell__1_e7F",track_vertical:"track_vertical__1NVQy",thumb_vertical:"thumb_vertical__JI_95",thumb_horizontal:"thumb_horizontal__1dbpW",dataTitle:"dataTitle__3iWoT",bullet:"bullet__26TEf",titleText:"titleText__M8qgx",dataDetails:"dataDetails__C9ZDJ",scroll:"scroll__1SIgi",data:"data__120zy",dataTitle2:"dataTitle2__Shz59",textTitle2:"textTitle2__1_Rf4",scroll2:"scroll2__20xwj",listSection:"listSection__2pF3h",bullet2:"bullet2__EtNLT"}},"J/oA":function(e){e.exports={breadCrumbWrapper:"breadCrumbWrapper__2m-rb",subTitle:"subTitle__3ne8y",countrySelector:"countrySelector__24AuT",tableHeader:"tableHeader__3Ue2Y",infoWrapper:"infoWrapper__39EBT",list:"list__23CSx",listItem:"listItem__2a0w7",marker_image:"marker_image__2F2-0",menuRow:"menuRow__1qfkG",markerWrapper:"markerWrapper__3-I1v",embedMenu:"embedMenu__37mrX",breadcrumbSection:"breadcrumbSection__244F_",value:"value__2M8P4",label:"label__14H2T",imageWrapper:"imageWrapper__1V67y",sdg_image:"sdg_image__1Ghsh",tableWrapper:"tableWrapper__1b24r",tableHeaderSection:"tableHeaderSection__3UE5l",tableHeaderData:"tableHeaderData__1WNU0",countryFilter:"countryFilter__2K8eG",wrapper:"wrapper__2cyi6",mapWrapper:"mapWrapper__2bJnW",markerTypeFilter:"markerTypeFilter__1lYYX",projectListWrapper:"projectListWrapper__2eVWs",mapSwitchContainer:"mapSwitchContainer__1T1kH",mapSwitch:"mapSwitch__2YV9c",mapBtn:"mapBtn__1kIti",hide:"hide__3kc8a",listSelected:"listSelected__2xjIC",mapSelected:"mapSelected__1G4ug",disclaimer:"disclaimer__1XLJr"}},Ti3M:function(e,t,r){"use strict";function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r("KM04"),n=(r.n(o),r("sw5u")),c=(r.n(n),r("bsjr")),i=r.n(c),l=(r("2Db4"),r("3hUP"),r("4vrZ")),p=(r.n(l),r("E/bI")),u=r("GGbt"),h=r("doLN"),d=r("6Ifq"),b=r("E5f5"),y=(r.n(b),function(e){function t(t){var r=a(this,e.call(this,t));return r.handleOnInputChange=function(e){r.props.countryFilter?r.setState({inputval:e.target.value},function(){r.props.searchCountryRegionsListData(r.state.inputval,r.props.theme,r.props.sdg,r.props.donor,r.props.year,r.props.markerType,r.props.markerId,r.props.levelTwoMarker)}):r.setState({inputval:e.target.value},function(){r.props.searchResult(r.state.inputval,"dropList",!0)})},r.renderList=function(e,t){return r.props.countryFilter&&(e=""==r.state.inputval?r.state.countryRegionList:e),Object(o.h)("div",{class:i.a.dropDownlistWrapper,style:{width:r.dropDownWrapper.offsetWidth-2}},Object(o.h)("div",{class:i.a.searchWrapper},Object(o.h)("div",{style:{width:r.dropDownWrapper.offsetWidth,textAlign:"center"}},Object(o.h)("input",{class:i.a.searchBar,style:{width:r.dropDownWrapper.offsetWidth-40},id:"mysearch",type:"search",placeholder:"Search",value:r.state.inputval,onInput:function(e){r.handleOnInputChange(e)}})),Object(o.h)(u.a,{handleChange:r.handleChange,dataList:e,initialLoading:r.props.countryFilter?t:r.props.operationUnits.loading,loading:t,baseURL:r.props.baseURL,donor:r.props.donor})))},r.handleChange=function(e){r.setState({closeBtnActive:!0}),r.props.handleClickBoth&&r.props.handleClickBoth(e.name,e.code,e.unit_type),r.props.handleClick&&(r.props.preserve&&"false"===r.props.preserve?r.props.handleClick(e.name,e.code,e.unit_type):r.props.handleClick(e.code,"",e.unit_type)),r.setState({labelValue:e.name,selectedValue:e,showSelect:!1,inputval:"",closeBtnActive:!0})},r.handleClickOutside=function(e){r.state.showSelect&&!r.filter.contains(e.target)&&r.setState({showSelect:!1})},r.handleClickClose=function(){r.setState({labelValue:"",inputval:"",selectedValue:"",closeBtnActive:!1},function(){r.props.handleClickBoth&&r.props.handleClickBoth("",""),r.props.handleClick&&(r.props.preserve&&"false"===r.props.preserve?r.props.handleClick("",""):r.props.handleClick(""))})},r.renderIcon=function(){return r.state.closeBtnActive?r.props.preserve&&"false"==r.props.preserve?Object(o.h)("div",{class:i.a.updownArrow}):Object(o.h)("div",{class:i.a.closetab,onClick:function(){r.handleClickClose()}}):Object(o.h)("div",{class:i.a.updownArrow})},r.state={selectedValue:r.props.selectedValue||"",labelValue:r.props.selectedLabel||"",showSelect:!1,closeBtnActive:!1,countryRegionList:[],showSelectWidth:0},r}return s(t,e),t.prototype.componentWillMount=function(){""!==this.props.selectedValue&&void 0!==this.props.selectedValue&&this.setState({closeBtnActive:!0})},t.prototype.componentDidUpdate=function(){this.state.showSelectWidth!=this.dropDownWrapper.offsetWidth&&this.setState({showSelectWidth:this.dropDownWrapper.offsetWidth})},t.prototype.componentWillReceiveProps=function(e){this.props.countryRegionSearch.searchResult!=e.countryRegionSearch.searchResult&&""==e.countryRegionSearch.searchText&&this.setState({countryRegionList:e.countryRegionSearch.searchResult}),this.props.donor==e.donor&&this.props.sdg==e.sdg&&this.props.theme==e.theme||this.props.searchCountryRegionsListData("",e.theme,e.sdg,e.donor,e.year,e.markerType,e.markerId,e.levelTwoMarker),this.props.tabSelected!=e.tabSelected&&this.props.currentTab==e.tabSelected&&this.props.searchCountryRegionsListData("",e.theme,e.sdg,e.donor,e.year,e.markerType,e.markerId,e.levelTwoMarker),this.props.year!=e.year&&this.setState({countryRegionList:[]}),"themes"!=e.tabSelected&&"signature"!=e.tabSelected||""!=e.selectedValue||this.setState({selectedValue:"",labelValue:"",closeBtnActive:!1}),e.selectedValue&&this.props.selectedValue!=e.selectedValue&&""!=e.selectedValue&&this.setState({selectedValue:e.selectedValue,labelValue:e.selectedLabel,showSelect:!1,inputval:"",closeBtnActive:!0})},t.prototype.openSelect=function(){var e=this;this.setState({showSelect:!0}),(this.props.countryFilter&&!this.state.countryRegionList.length||this.props.markerType)&&this.props.searchCountryRegionsListData("",this.props.theme,this.props.sdg,this.props.donor,this.props.year,this.props.markerType,this.props.markerId,this.props.levelTwoMarker),this.state.closeBtnActive||(this.props.countryFilter?this.props.searchResult("","dropList"):this.setState({inputval:""},function(){e.props.searchResult("","dropList")}))},t.prototype.componentDidMount=function(){this.setState({showSelectWidth:this.dropDownWrapper.offsetWidth}),document.addEventListener("mousedown",this.handleClickOutside),document.addEventListener("touchstart",this.handleClickOutside)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside),document.removeEventListener("touchstart",this.handleClickOutside)},t.prototype.render=function(e){var t=this,r=e.label,a=e.placeHolder,s=e.filterClass,n=e.dropDownClass,c=e.labelStyle;a=a||"select";var l=""==this.state.labelValue?a:this.state.labelValue;return Object(o.h)("div",{class:this.props.markerType?""+i.a.markerPageFilter:i.a.filters+" "+s},r?Object(o.h)("span",{class:i.a.labelStyle+" "+c,style:c},r):null,Object(o.h)("div",{style:r?"":this.props.marker?{"padding-top":"10px","margin-right":"1rem"}:{"padding-top":"15px"},class:""+i.a.dropDownOuterWrapper,ref:function(e){return t.filter=e}},Object(o.h)("div",{class:this.state.showSelect?i.a.dropdownOverlay:null,style:{width:this.state.showSelectWidth}}),Object(o.h)("div",{ref:function(e){return t.dropDownWrapper=e},onClick:function(){return t.openSelect()},class:i.a.dropDownWrapper+" "+n+" "+this.props.dropRecCountryDownWrapper+" "+this.props.dropL2CountryDownWrapper},Object(o.h)("span",{class:i.a.dropDownItem+" "+this.props.dropRecCountryDownItem+" "+this.props.dropL2CountryDownItem},this.props.preserve&&"false"==this.props.preserve?a:l),this.renderIcon()),this.state.showSelect?this.props.countryFilter?this.renderList(this.props.countryRegionSearch.searchResult,this.props.countryRegionSearch.loading):this.renderList(this.props.budgetSourceSearch.searchResult,this.props.budgetSourceSearch.searchResultLoading):null))},t}(o.Component)),m=function(e){return{router:e.router,operationUnits:e.operationUnits,budgetSourceSearch:e.budgetSourceSearch,countryRegionSearch:e.countryRegionSearch,tabSelected:e.tabData.tabSelected,mapCurrentYear:e.mapData.yearTimeline.mapCurrentYear}},S=function(e){return{updateSearchResult:function(t){return e(Object(h.s)(t))},searchResult:function(t,r,a){return e(Object(h.o)(t,r,a))},searchOperatingUnitsListData:function(t){return e(Object(h.n)(t))},searchCountryRegionsListData:function(t,r,a,s,o,n,c,i){return e(Object(d.c)(t,r,a,s,o,n,c,i))}}};t.a=Object(p.a)(m,S)(y)},ab7g:function(e,t,r){"use strict";function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=r("KM04"),l=r("J/oA"),p=r.n(l),u=r("yNoq"),h=r("diX/"),d=r("wvix"),b=r("EqaB"),y=r.n(b),m=r("2On6"),S=r("COsE"),f=r("wdDn"),k=r("ufjx"),j=r("E5f5"),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},O=Object(i.h)(f.a,null),v=Object(i.h)(k.a,null),M=Object(i.h)("span",null,"Top 10 Donors"),w=Object(i.h)(S.a,null),C=Object(i.h)(f.a,null),D=Object(i.h)(k.a,null),T=Object(i.h)("span",null,"Top 10 Recipient Offices"),L=Object(i.h)(S.a,null),W=Object(i.h)(f.a,null),x=Object(i.h)(k.a,null),F=function(e){function t(){return a(this,e.apply(this,arguments))}return s(t,e),t.prototype.generateSubLevels=function(e){if(""===e.description_details){return e.description_title.map(function(e){return Object(i.h)("section",null,Object(i.h)("span",{class:y.a.dataTitle},Object(i.h)("img",{src:"../../../assets/icons/dot.png",class:y.a.bullet}),Object(i.h)("span",{class:y.a.titleText},e.level_two_marker_title)),Object(i.h)("span",{class:y.a.dataDetails}," ",e.level_two_marker_description))})}return Object(i.h)("span",{class:y.a.dataDetails},"  ",e.description_details)},t.prototype.generateRows=function(e,t){var r=this,a=null;return t&&e.type&&(a=e.type.map(2===t.id?function(e,t){return Object(i.h)("section",{key:t,class:y.a.row},Object(i.h)("section",{class:y.a.cell},Object(i.h)(j.Scrollbars,{class:y.a.scroll,renderTrackHorizontal:function(e){return Object(i.h)("div",g({},e,{style:{display:"none"}}))},renderThumbHorizontal:function(e){return Object(i.h)("div",g({},e,{style:{display:"none"}}))}},Object(i.h)("section",{class:y.a.data},Object(i.h)("section",{class:y.a.dataTitle},Object(i.h)("img",{src:"../../../assets/icons/dot.png",class:y.a.bullet}),Object(i.h)("span",{class:y.a.titleText},e.type_title)),Object(i.h)("span",{class:y.a.dataDetails},e.type_details)))),Object(i.h)("section",{class:y.a.cell},Object(i.h)(j.Scrollbars,{class:y.a.scroll,renderTrackHorizontal:function(e){return Object(i.h)("div",g({},e,{style:{display:"none"}}))},renderThumbHorizontal:function(e){return Object(i.h)("div",g({},e,{style:{display:"none"}}))}},Object(i.h)("section",{class:y.a.data},r.generateSubLevels(e)))))}:function(e,t){return Object(i.h)("section",{key:t,class:y.a.row},Object(i.h)("section",{class:y.a.cell},Object(i.h)(j.Scrollbars,{class:y.a.scroll2,renderTrackHorizontal:function(e){return Object(i.h)("div",g({},e,{style:{display:"none"}}))},renderThumbHorizontal:function(e){return Object(i.h)("div",g({},e,{style:{display:"none"}}))}},Object(i.h)("section",{class:y.a.data},Object(i.h)("span",{class:y.a.dataTitle2},e.type_title)))),Object(i.h)("section",{class:y.a.cell},Object(i.h)(j.Scrollbars,{class:y.a.scroll2,renderTrackHorizontal:function(e){return Object(i.h)("div",g({},e,{style:{display:"none"}}))},renderThumbHorizontal:function(e){return Object(i.h)("div",g({},e,{style:{display:"none"}}))}},Object(i.h)("section",{class:y.a.data},e.description_details.constructor==Array?e.description_details.map(function(e){return Object(i.h)("section",{class:y.a.listSection},Object(i.h)("img",{src:"../../../assets/icons/dot.png",class:y.a.bullet2}),Object(i.h)("span",{class:y.a.textTitle2},e))}):""===e.description_details?e.description_title.map(function(e){return Object(i.h)("section",{class:y.a.listSection},Object(i.h)("img",{src:"../../../assets/icons/dot.png",class:y.a.bullet2}),Object(i.h)("span",{class:y.a.textTitle2},e))}):Object(i.h)("span",{class:y.a.textTitle2}," ",e.description_details)))))})),a},t.prototype.render=function(){var e=this.props.chartData.data.budget_sources?this.props.chartData.data.budget_sources:[],t=this.props.chartData.data.top_recipient_offices?this.props.chartData.data.top_recipient_offices:[];return Object(i.h)("section",null,Object(i.h)("section",{class:this.props.hideMarkerDescTable?y.a.hide:y.a.table},Object(i.h)("section",{class:y.a.tableHeader},Object(i.h)("section",{class:y.a.tableHeaderSection},Object(i.h)("span",{class:y.a.tableHeaderData}," Type ")),Object(i.h)("section",{class:y.a.tableHeaderSection},Object(i.h)("span",{class:y.a.tableHeaderData}," Description "))),Object(i.h)("section",{class:y.a.tableBody},this.props.data.loading?Object(i.h)("div",{style:{position:"relative",height:344}},v):this.props.data.type&&0!==this.props.data.type.length?this.generateRows(this.props.data,this.props.marker):O)),Object(i.h)("section",null,Object(i.h)("div",{class:y.a.chartWrapper},Object(i.h)("div",{class:y.a.top_budget_sources_wrapper},Object(i.h)("span",{class:y.a.chartHead},M,w),this.props.chartData.loading?Object(i.h)("div",{style:{position:"relative",height:344}},D):Object(i.h)("div",null,e.length>0?Object(i.h)("div",{class:y.a.budget_sources_wrapper},Object(i.h)(m.a,{chart_id:"marker_budget_sources",width:1250,height:500,min_height:540,data:e,label:"short_name",tspanSize:"12px",textSize:"12px"})):C))),"global"===this.props.country?Object(i.h)("div",{class:y.a.chartWrapper},Object(i.h)("div",{class:y.a.top_budget_sources_wrapper},Object(i.h)("span",{class:y.a.chartHead},T,L),this.props.chartData.loading?Object(i.h)("div",{style:{position:"relative",height:344}},x):t.length>0?Object(i.h)("div",{class:y.a.budget_sources_wrapper},Object(i.h)(m.a,{chart_id:"sdg_profile_top_recipient_offices",width:1250,height:500,min_height:540,data:t,label:"iso3",tspanSize:"12px",textSize:"12px"})):W)):null))},t}(i.Component),R=r("7aq3"),E=r("v4O/"),Y=r("Ti3M"),P=r("TOh2"),H=r("DEwm"),I=r("6xcH"),B=r("hafV"),U=r("E/bI"),V=r("5ttS"),A=r("GXBc"),z=r("STnb"),N=r("ZIP0"),q=r("usUj"),G=r("Y9jh"),J=r("doLN"),X=r("Au7/"),Z=r("xVFv"),K=r("s4wh"),Q=r("+hMk"),$=r("PlqB"),ee=r("FYbH"),te=r("IlGz"),re=r("CFDo"),ae=r("UPaS"),se=r("zNX7"),oe=r("Bp+V"),ne=r("Cdrj"),ce=r("FJnM"),ie=r.n(ce),le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pe=Object(i.h)(I.a,null),ue=Object(i.h)(E.a,{marker:!0}),he=Object(i.h)(f.a,null),de=Object(i.h)(k.a,null),be=Object(i.h)(k.a,null),ye=Object(i.h)(V.a,null),me=function(e){function t(r){o(this,t);var a=n(this,e.call(this,r));return a.switchModalState=function(){a.setState(function(e){return{modalState:!e.modalState}})},a.openEmbedModal=function(){a.createCheckList(a.setState({displayEmbedModal:!0},function(){}))},a.handleClose=function(){a.setState({displayEmbedModal:!1},function(){a.clearSelect()})},a.createCheckList=function(e){var t=a.state.baseUrl;a.state.checkList.forEach(function(e,r){t=0===r?t+e.key+"="+e.flag:t+"&"+e.key+"="+e.flag}),a.setState({selectionListUrl:t},function(){void 0!==e&&e()})},a.generateFilterListUrl=function(){var e="",t=le({},a.state.dropListFilterobj);for(var r in t)e="year"===r||"searchText"===r?e+"&"+r+"="+t[r].value:e+"&"+r+"="+t[r].value+"&"+r+"Label="+t[r].label;e=e+"&marker="+a.currentMarker.id+"&marker_id="+(a.props.currentMarkerSubType.markerSubType?a.props.currentMarkerSubType.markerSubType:""),a.setState({filterUrl:e},function(){})},a.handleFilterChange=function(e,t){var r;switch(a.setState({dropListFilterobj:le({},a.state.dropListFilterobj,(r={},r[e]=le({},a.state.dropListFilterobj[e],{value:t.value||t,label:t.label||""}),r))},function(){a.generateFilterListUrl()}),e){case"country":var s=t.value;a.countryName=t.name,a.props.updateSearchCountryField(a.countryName),a.props.loadProjectListMapData(a.props.mapCurrentYear,a.state.themeSelected,s,a.state.sourceSelected,a.state.sdgSelected,a.currentMarker.id,a.props.currentMarkerSubType.markerSubType),a.props.updateCountrySelected(s);break;case"search":a.setState({keyword:t})}},a.handleOnSelect=function(e,t){var r=a.state.checkList.map(function(r){return r.key===t.key?{flag:e.target.checked,label:r.label,key:r.key}:r});a.setState({checkList:r},function(){a.createCheckList()})},a.clearSelect=function(){var e=a.state.checkList.map(function(e){return{flag:a.initialChecklist[e.key],label:e.label,key:e.key}});a.setState({checkList:e})},a.parseData=function(e){return e.forEach(function(e){e.country_name=e.country.name,e.probObj={title:e.title,project_id:e.project_id}}),e},a.categorySelect=function(e){var t=a.props.currentYear;e=4!==a.currentMarker.id&&5!==a.currentMarker.id&&6!==a.currentMarker.id||!e?e:e.replace(/ /g,"+"),a.props.updateMarkerSubType(e),a.hideTable=e,a.props.loadProjectListMapData(a.props.mapCurrentYear,a.state.themeSelected,a.props.currentCountrySelected.countrySelected,a.state.sourceSelected,a.state.sdgSelected,a.currentMarker.id,e),a.selectedMarkerId=e,a.generateFilterListUrl(),a.props.fetchMarkerDescriptionData(t,a.currentMarker.id,a.props.currentCountrySelected.countrySelected,e),a.props.fetchMarkerData(t,a.currentMarker.id,a.props.currentCountrySelected.countrySelected,e),a.props.fetchMarkerBarChartData(t,a.currentMarker.id,a.props.currentCountrySelected.countrySelected,e)},a.renderMarkerSummary=1,a.countryCode="global",a.hideTable=!1,a.state={projectList:[],themeSelected:"",unitSelected:"",unitLabel:"",theme:"",unit:"",sdg:"",sourceSelected:"",sdgSelected:"",keyword:"",totalDataSize:0,links:{},displayEmbedModal:!1,selectionListUrl:window.location.origin+"/embed/our-approaches?",baseUrl:window.location.origin+"/embed/our-approaches?",filterUrl:"",dropListFilterobj:{country:{value:a.props.currentCountrySelected.countrySelected,label:""},sources:{value:"",label:""},themes:{value:"",label:""},sdg:{value:"",label:""},year:{value:a.props.currentYear},markerFilter:{value:a.props.currentMarkerSubType.markerSubType}},checkList:[{flag:!0,label:"Title",key:"title"},{flag:!0,label:"Map",key:"map"},{flag:!0,label:"Marker Types and Description",key:"typesDescription"},{flag:!1,label:"Project List",key:"projectTable"},{flag:!1,label:"Top 10 Donors",key:"donors"},{flag:!1,label:"Top 10 Recipient Offices",key:"recipients"}],searchText:"",showExportModal:!1},a.initialChecklist={title:!0,summary:!0,map:!0,projectTable:!1},a.currentMarker=$.a.data[_.findIndex($.a.data,{label:a.props.code})],a.selectedMarkerId="",a}return c(t,e),t.prototype.componentWillUnMount=function(){this.props.clearSearchCountryField()},t.prototype.setPageHeader=function(){var e=this.currentMarker.title;this.props.onChangeRoute(e),this.props.setPageHeader({title:e,breadcrumb:[{id:1,title:"Home",link:"/"},{id:2,title:"Our Approaches",link:"/our-approaches"},{id:3,title:e}]})},t.prototype.showExportModal=function(){this.setState({showExportModal:!0})},t.prototype.hideExportModal=function(){this.setState({showExportModal:!1})},t.prototype.componentWillMount=function(){this.props.clearSearchCountryField(),this.props.loadProjectListMapData(this.props.mapCurrentYear,this.state.themeSelected,this.state.unitSelected,this.state.sourceSelected,this.state.sdgSelected,this.currentMarker.id),this.createCheckList(),this.generateFilterListUrl(),this.props.updateCountrySelected(""),this.props.updateMarkerSubType(""),this.props.fetchMarkerData(this.props.mapCurrentYear,this.currentMarker.id,"all"),this.props.fetchMarkerDescriptionData(this.props.mapCurrentYear,this.currentMarker.id),this.props.fetchMarkerBarChartData(this.props.mapCurrentYear,this.currentMarker.id),this.props.fetchmarkerSubType(this.currentMarker.id,"")},t.prototype.componentDidMount=function(){window.scrollTo(0,0),this.setPageHeader(),this.props.loadProjectListMapData(void 0,this.state.themeSelected,this.state.unitSelected,this.state.sourceSelected,this.state.sdgSelected,this.currentMarker.id)},t.prototype.componentWillReceiveProps=function(e){var t=this;if(this.props.mapCurrentYear!==e.mapCurrentYear&&(this.setState({dropListFilterobj:le({},this.state.dropListFilterobj,{year:le({},this.state.dropListFilterobj.year,{value:e.mapCurrentYear})})},function(){t.generateFilterListUrl()}),this.props.loadProjectListMapData(e.mapCurrentYear,this.state.themeSelected,this.state.unitSelected,this.state.sourceSelected,this.state.sdgSelected,this.currentMarker.id,e.currentMarkerSubType.markerSubType)),this.props.currentYear!==e.currentYear&&(this.props.loadProjectListMapData(e.currentYear,this.state.themeSelected,this.state.unitSelected,this.state.sourceSelected,this.state.sdgSelected,this.currentMarker.id,e.currentMarkerSubType.markerSubType),""!==this.props.currentCountrySelected.countrySelected?this.props.fetchMarkerData(e.currentYear,this.currentMarker.id,this.props.currentCountrySelected.countrySelected,e.currentMarkerSubType.markerSubType):this.props.fetchMarkerData(e.currentYear,this.currentMarker.id,"all",e.currentMarkerSubType.markerSubType),""!==this.props.currentCountrySelected.countrySelected?this.props.fetchMarkerBarChartData(e.currentYear,this.currentMarker.id,this.props.currentCountrySelected.countrySelected,e.currentMarkerSubType.markerSubType):this.props.fetchMarkerBarChartData(e.currentYear,this.currentMarker.id,"",e.currentMarkerSubType.markerSubType),""!==this.props.currentCountrySelected.countrySelected?this.props.fetchMarkerDescriptionData(e.currentYear,this.currentMarker.id,this.props.currentCountrySelected.countrySelected,e.currentMarkerSubType.markerSubType):this.props.fetchMarkerDescriptionData(this.props.currentYear,this.currentMarker.id,"",e.currentMarkerSubType.markerSubType)),e.projectList!==this.props.projectList){var r=e.projectList.data;this.setState({projectList:function(e){return e.forEach(function(e){e.country_name=e.country,e.probObj={title:e.title,project_id:e.project_id},e.budget=null===e.budget?0:e.budget,e.expense=null===e.expense?0:e.expense}),e}(r),totalDataSize:e.projectList.count,links:e.projectList.links})}this.props.currentCountrySelected.countrySelected!==e.currentCountrySelected.countrySelected&&(""===e.currentCountrySelected.countrySelected?(this.countryCode="global",this.countryName="Recipient Region /Country",this.props.fetchMarkerData(e.currentYear,this.currentMarker.id,"all",e.currentMarkerSubType.markerSubType),this.props.fetchMarkerDescriptionData(this.props.currentYear,this.currentMarker.id,"",e.currentMarkerSubType.markerSubType),this.props.fetchMarkerBarChartData(this.props.currentYear,this.currentMarker.id,"",e.currentMarkerSubType.markerSubType),this.props.fetchmarkerSubType(this.currentMarker.id,"")):(this.countryCode=e.currentCountrySelected.countrySelected,this.props.fetchMarkerData(e.currentYear,this.currentMarker.id,this.countryCode,e.currentMarkerSubType.markerSubType),this.props.fetchMarkerDescriptionData(e.currentYear,this.currentMarker.id,this.countryCode,e.currentMarkerSubType.markerSubType),this.props.fetchMarkerBarChartData(this.props.currentYear,this.currentMarker.id,this.countryCode,e.currentMarkerSubType.markerSubType),this.props.fetchmarkerSubType(this.currentMarker.id,this.countryCode)))},t.prototype.renderExportPopup=function(){var e=this,t=this.state.dropListFilterobj.sources.value,r=this.props.currentYear,a=this.props.currentCountrySelected.countrySelected,s=this.state.searchText,o=this.state.dropListFilterobj.themes.value,n=void 0,c=void 0,l=void 0;return n={year:this.props.currentYear,unitSelected:this.props.currentCountrySelected.countrySelected,donorSelected:this.state.dropListFilterobj.sources.label,mapData:this.props.outputData.data,projectList:this.props.projectList,sectorSelected:this.state.dropListFilterobj.themes.label,sdgSelected:this.state.dropListFilterobj.sdg.label,lastUpdatedDate:Object(A.a)(this.props.lastUpdatedDate.data.last_updated_date),title:this.currentMarker.title},c=this.props.projectListMapData.loading||this.props.outputData.loading,l="projects_global",Object(i.h)(K.a,{templateType:l,data:n,loading:c,downloadCsv:function(){e.props.downLoadProjectListCsv(r,s,t,o,a,"","","","",e.currentMarker.id,e.props.currentMarkerSubType.markerSubType,"")},onCloseModal:function(){return e.hideExportModal()}})},t.prototype.render=function(e,t){var r=this,a=e.projectListMapData,s=t.projectList,o=t.totalDataSize,n=t.links,c=void 0,l="Our Approaches | UNDP Transparency Portal",b="At the request of the MoH, UNDP procures a range of medicines and medical products as an emergency measure, and builds the capacity needed to support a transparent, cost-effective procurement system for the Ministry.";return c=this.props.markerSubtypes.data&&this.props.markerSubtypes.data[0]?this.props.markerSubtypes.data.map(function(e){return{label:e.title,value:4===r.currentMarker.id||5===r.currentMarker.id||6===r.currentMarker.id?e.title:e.marker_type}}):[],"sstc"===this.props.code?pe:Object(i.h)("div",null,this.state.showExportModal?this.renderExportPopup():null,Object(i.h)(ie.a,{title:l,meta:[{name:"description",content:b},{property:"og:title",content:l},{property:"og:description",content:b},{property:"twitter:title",content:l},{property:"twitter:description",content:b}]}),Object(i.h)(h.a,{active:"our-approaches",title:this.currentMarker.title,enableSearch:!0,enableBanner:!0}),Object(i.h)("div",{class:p.a.breadCrumbWrapper},Object(i.h)("section",{class:p.a.breadcrumbSection},ue),Object(i.h)("section",{class:p.a.menuRow},Object(i.h)("section",{class:p.a.embedMenu},Object(i.h)(R.a,{showExportModal:function(){return r.showExportModal()},onClickEmbed:this.openEmbedModal,marker:"embed&export",disableDropdown:!0})))),Object(i.h)("section",{class:p.a.countryFilter},Object(i.h)("section",{class:p.a.markerTypeFilter},Object(i.h)(H.a,{newclass:!0,handleClick:function(e){return r.categorySelect(e.value)},options:c,labelStyle:p.a.labelStyle,placeHolder:"Select",marker:!0,loading:this.props.markerSubtypes.loading})),Object(i.h)(Y.a,{countryFilter:!0,marker:this.currentMarker.id,year:this.props.currentYear,handleClick:function(){return function(){}},theme:this.props.theme,sdg:this.props.sdg,handleClickBoth:function(e,t){return r.handleFilterChange("country",{value:t,label:e})},placeHolder:"Recipient Region /Country",selectedValue:""===this.props.currentCountrySelected.countrySelected?"":this.countryName,selectedLabel:""===this.props.currentCountrySelected.countrySelected?"":this.countryName,baseURL:P.a.API_BASE,countryName:""===this.props.currentCountrySelected.countrySelected?"Recipient Region /Country":this.countryName,markerType:this.currentMarker.id,markerId:this.selectedMarkerId}),Object(i.h)(R.a,{disableEmbedExport:!0,startYear:B.a.SIGNATURE_SOLUTION_YEAR,marker:"year"})),Object(i.h)("section",null,Object(i.h)("span",{class:p.a.subTitle},this.currentMarker.desc)),Object(i.h)("div",{class:p.a.wrapper},Object(i.h)("section",null,this.props.aggregate.loading?Object(i.h)("div",{style:{position:"relative",height:53,marginTop:10,marginBottom:10}},de):Object.keys(this.props.aggregate.data).length?Object(i.h)("div",{class:p.a.infoWrapper},Object(i.h)("div",{class:p.a.imageWrapper},this.currentMarker?Object(i.h)("img",{class:p.a.marker_image,src:Object(ne.d)()+this.currentMarker.image_2,alt:"sdg icon"}):null),Object(i.h)("div",{class:p.a.tableWrapper},Object(i.h)("ul",{class:p.a.list},Object(i.h)("li",{class:p.a.listItem},Object(i.h)("span",{class:p.a.value},this.props.aggregate.data.budget&&Object(X.d)(this.props.aggregate.data.budget,2)),Object(i.h)("span",{class:p.a.label},"Budget")),Object(i.h)("li",{class:p.a.listItem},Object(i.h)("span",{class:p.a.value},this.props.aggregate.data.expense&&Object(X.d)(this.props.aggregate.data.expense,2)),Object(i.h)("span",{class:p.a.label},"Expense")),Object(i.h)("li",{class:p.a.listItem},Object(i.h)("span",{class:p.a.value},this.props.aggregate.data.projects_count&&Object(X.c)(this.props.aggregate.data.projects_count)),Object(i.h)("span",{class:p.a.label},"Projects")),Object(i.h)("li",{class:p.a.listItem},Object(i.h)("span",{class:p.a.value},this.props.aggregate.data.budget_sources&&Object(X.c)(this.props.aggregate.data.budget_sources)),Object(i.h)("span",{class:p.a.label},"Donors"))))):he),Object(i.h)("section",null,Object(i.h)("span",{class:p.a.mapSwitchContainer},Object(i.h)("span",{class:p.a.mapSwitch},Object(i.h)("button",{class:this.state.listSelected?p.a.mapBtn:p.a.mapBtn+" "+p.a.mapSelected,onClick:function(){return r.setState({listSelected:!1})}}," Map "),Object(i.h)("button",{class:this.state.listSelected?p.a.mapBtn+" "+p.a.listSelected:p.a.mapBtn,onClick:function(){return r.setState({listSelected:!0})}},"List"))),Object(i.h)("div",{class:this.state.listSelected?p.a.hide:p.a.mapWrapper},Object(i.h)(d.a,{sector:this.state.themeSelected,sdg:this.state.sdgSelected,source:this.state.sourceSelected,mapData:a,onCountrySelect:function(e){return r.handleFilterChange("country",{value:e.country_iso3,name:e.country_name})},marker:this.currentMarker.id,startYear:2018,mapId:"markerMap"}),Object(i.h)("div",{class:p.a.disclaimer},"* The designations employed and the presentation of material on this map do not imply the expression of any opinion whatsoever on the part of the Secretariat of the United Nations or UNDP concerning the legal status of any country, territory, city or area or its authorities, or concerning the delimitation of its frontiers or boundaries.")),Object(i.h)("div",{class:this.state.listSelected?p.a.projectListWrapper:p.a.hide},Object(i.h)(u.a,{data:s,handleFilterChange:function(e,t){return r.handleFilterChange(e,t)},loading:this.props.loading,getSearchParam:function(e){r.setState({searchText:e})},theme:this.state.themeSelected,unit:this.state.unitSelected,keyword:this.state.keyword,source:this.state.sourceSelected,count:o,links:n,enableMarkerDropDown:!0,marker:this.currentMarker.id,country:this.props.currentCountrySelected.countrySelected})))),this.props.markerDescData&&this.props.markerDescData.loading?Object(i.h)("div",{style:{position:"relative",height:344}},be):Object(i.h)("section",{class:p.a.markerWrapper},Object(i.h)(F,{hideMarkerDescTable:this.hideTable,data:this.props.markerDescData.data,chartData:this.props.markerChartData,marker:this.currentMarker,country:this.countryCode})),Object(i.h)(Z.a,{display:this.state.displayEmbedModal,checkList:this.state.checkList,modifiedUrl:this.state.selectionListUrl+this.state.filterUrl,handleClose:this.handleClose,getselectedItem:this.getselectedItem,handleOnSelect:this.handleOnSelect}),ye)},t}(i.Component),Se=function(e){var t=e.projectList;return{router:e.router,loading:t.loading,currentCountrySelected:e.countrySelected,projectListMapData:e.mapData.projectListMapData,error:t.error,projectList:t.projectList,currentYear:e.yearList.currentYear,mapCurrentYear:e.mapData.yearTimeline.mapCurrentYear,countryList:e.countryList,masterDonorList:e.masterDonorList,outputData:e.mapData.outputData,aggregate:e.individualMarkerData,markerDescData:e.markerDescData,markerChartData:e.markerBarChartData,markerSubtypes:e.markerSubTypes,currentMarkerSubType:e.markerSubTypeSelected,lastUpdatedDate:e.lastUpdatedDate}},fe=function(e){return{updateMarkerSubType:function(t){return e(Object(se.b)(t))},updateCountrySelected:function(t){return e(Object(oe.b)(t))},setPageHeader:function(t){return e(Object(q.a)(t))},updateProjectList:function(t){return e(Object(z.c)(t))},loadProjectListMapData:function(t,r,a,s,o,n,c){return e(Object(N.b)(t,r,a,s,o,n,c))},updateSearchCountryField:function(t){return e(Object(J.q)(t))},clearSearchCountryField:function(){return e(Object(J.m)())},searchResult:function(t,r){return e(Object(J.o)(t,r))},onChangeRoute:function(t){return e(Object(G.b)(t))},downLoadProjectListCsv:function(t,r,a,s,o,n,c,i,l,p,u,h){return e(Object(Q.d)(t,r,a,s,o,n,c,i,l,p,u,h))},fetchMarkerData:function(t,r,a,s,o){return e(Object(ee.b)(t,r,a,s,o))},fetchMarkerDescriptionData:function(t,r,a,s){return e(Object(te.b)(t,r,a,s))},fetchMarkerBarChartData:function(t,r,a,s){return e(Object(re.b)(t,r,a,s))},fetchMarkerProjectList:function(t,r,a,s,o,n,c){return e(Object(z.b)(t,r,a,s,o,n,c))},fetchmarkerSubType:function(t,r){return e(Object(ae.b)(t,r))}}};t.default=Object(U.a)(Se,fe)(me)},bsjr:function(e){e.exports={markerPageFilter:"markerPageFilter__xO8l7",labelStyle:"labelStyle__3UIjl",filterOption:"filterOption__1jEVB",dropDownOuterWrapper:"dropDownOuterWrapper__2kayO",dropdownOverlay:"dropdownOverlay__2gZc9",dropdownhidden:"dropdownhidden__2uHzu",dropDownlistWrapper:"dropDownlistWrapper__Ir3Ei",dropDownWrapper:"dropDownWrapper__2EPG1",dropDownItem:"dropDownItem__WCpws",select:"select__1ucDZ",updownArrow:"updownArrow__1CFMO",closetab:"closetab__1nUZx",sscWrapper:"sscWrapper__4yWPG",filters:"filters__2Yp86",searchBar:"searchBar__1YJ_9",searchWrapper:"searchWrapper__2m1Sn",dropDownUl:"dropDownUl__1FxaM"}}});
//# sourceMappingURL=route-marker.chunk.ec857.js.map